<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Banner Builder</title>

<link rel="stylesheet" href="style.css">

<!-- libs -->
<script src="https://cdn.jsdelivr.net/npm/interactjs@1.10.17/dist/interact.min.js"></script>
<script src="js/html2canvas.min.js"></script>

<!-- decode: gifuct-js as real ESM via esm.sh -->
<script type="module">
  import { parseGIF, decompressFrames } from "https://esm.sh/gifuct-js@2.1.2?bundle";
  window.__gif_parseGIF = parseGIF;
  window.__gif_decompressFrames = decompressFrames;
</script>

<!-- encode (jsgif) -->
<script src="js/vendor/jsgif/LZWEncoder.js"></script>
<script src="js/vendor/jsgif/NeuQuant.js"></script>
<script src="js/vendor/jsgif/GIFEncoder.js"></script>
</head>
<body>

<!-- LOADING SCREEN -->
<div id="loading-screen">
  <div class="loading-content">
    <div class="loading-logo">
      <video id="loading-video" autoplay muted playsinline>
        <source src="assets/UI/logo_anim.mp4" type="video/mp4">
      </video>
    </div>
    <div class="loading-status">
      <div id="loading-text" class="loading-text">loading<span class="loading-dots"></span></div>
      <button id="get-started-btn" class="get-started-btn hidden">Get Started</button>
    </div>
  </div>
</div>

<div id="exporting-screen" class="hidden">
  <div class="loading-content">
    <div class="loading-logo">
      <video id="exporting-video" autoplay muted playsinline loop>
        <source src="assets/UI/logo_anim.mp4" type="video/mp4">
      </video>
    </div>
    <div class="loading-status">
      <div class="loading-text">exporting<span class="loading-dots"></span></div>
    </div>
  </div>
</div>

<div id="root">
  <div id="app"><!-- grid frame -->

    <!-- SIDEBAR -->
    <aside id="sidebar">
      <button class="category" data-panel="bg"><img src="assets/UI/button_theme.png" alt="Theme"></button>
      <button class="category" data-panel="2"><img src="assets/UI/button_hero.png" alt="Hero"></button>
      <button class="category" data-panel="3"><img src="assets/UI/button_claim.png" alt="Claim"></button>
      <button class="category" data-panel="4"><img src="assets/UI/button_decor.png" alt="Decor"></button>
      <button class="category" data-panel="5"><img src="assets/UI/button_brand.png" alt="Brand"></button>
      <button class="category" data-panel="6"><img src="assets/UI/button_cta.png" alt="CTA"></button>
      <button class="category" data-panel="export"><img src="assets/UI/button_save.png" alt="Save"></button>
    </aside>

    <!-- STAGE (fixed 2:1) + local overlay host -->
    <div id="stage-wrap">
      <main id="stage"></main>
      <!-- overlay sits above the stage; starts hidden -->
      <div id="overlay" class="hidden" aria-hidden="true">
        <div id="popup"><!-- content injected by JS --></div>
      </div>
      
      <!-- ELEMENT EFFECT BAR - shown when hero/headline/company/cta is selected -->
      <div id="element-bar-title-area">
        <span id="element-bar-title">Hero</span>
      </div>
      
      <div id="element-effect-tabs">
        <label class="effect-tab">
          <input type="checkbox" id="element-effect-glitter" />
          <span>Glitter</span>
        </label>
        <label class="effect-tab">
          <input type="checkbox" id="element-effect-shadow" />
          <span>Shadow</span>
        </label>
        <label class="effect-tab">
          <input type="checkbox" id="element-effect-outline" />
          <span>Outline</span>
        </label>
      </div>
    </div>

    <!-- Title area on the left of sticker bar -->
    <div id="sticker-bar-title-area">
      <span>Stickers</span>
    </div>
    
    <!-- Effect tabs - shown when sticker is selected -->
    <div id="sticker-effect-tabs">
      <label class="effect-tab">
        <input type="checkbox" id="effect-glitter" />
        <span>Glitter</span>
      </label>
      <label class="effect-tab">
        <input type="checkbox" id="effect-shadow" />
        <span>Shadow</span>
      </label>
      <label class="effect-tab">
        <input type="checkbox" id="effect-outline" />
        <span>Outline</span>
      </label>
    </div>
    
    <!-- Delete button area on the right of sticker bar -->
    <div id="sticker-bar-delete-area">
      <span>Delete</span>
    </div>

    <!-- STICKER BAR (under the stage only) -->
    <div id="sticker-bar">
      <!-- XMAS Stickers (25) -->
      <img class="sticker-src" src="assets/stickers/XMAS/candles.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/christmas bells.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/Christmas Gift.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/Christmas Log Cabin.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/Christmas Present.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/Christmas Snowman.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/christmas star.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/Christmas Tree Icon.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/Christmas Tree.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/christmas wreath 2.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/Christmas Wreath.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/cool santa with sunglasses.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/gold christmas bells.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/golden christmas gift.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/pair of ice skates.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/rudolph the reindeer.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/santa and his sleigh.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/Santa's Hat.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/Santa.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/snow covered cottage.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/snow sled.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/snowman.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/the grinch.png" />
      <img class="sticker-src" src="assets/stickers/XMAS/white snowflake.png" />
      <!-- OTHER Stickers (3) -->
      <img class="sticker-src" src="assets/stickers/OTHER/Dinosaur.png" />
      <img class="sticker-src" src="assets/stickers/OTHER/modern laptop computer.png" />
      <img class="sticker-src" src="assets/stickers/OTHER/Modern Sattelite.png" />
    </div>
    
    <!-- Button container to fill the right margin space -->
    <div id="sticker-bar-button-area">
      <button id="btn-mute" class="bar-btn" aria-pressed="false" title="Toggle sound"><span class="btn-icon">♪</span></button>
      <button id="btn-snow" class="bar-btn" aria-pressed="true" title="Toggle snow"><span class="btn-icon">*</span></button>
      <button id="btn-fullscreen" class="bar-btn" aria-pressed="false" title="Toggle fullscreen"><span class="btn-icon">⛶</span></button>
    </div>

    <!-- BG DATA SOURCE (hidden; easy to maintain list) -->
    <div id="bg-data" style="display:none;">
      <div class="bg-option" data-bg="assets/backgrounds/Elf_Intelligence.gif"></div>
      <div class="bg-option" data-bg="assets/backgrounds/Frostbyte_Frameworks.gif"></div>
      <div class="bg-option" data-bg="assets/backgrounds/Gift_Guess_AI.gif"></div>
      <div class="bg-option" data-bg="assets/backgrounds/Ornamented_Account_Targeting.gif"></div>
      <div class="bg-option" data-bg="assets/backgrounds/Pinecone_Persona_Strategy.gif"></div>
      <div class="bg-option" data-bg="assets/backgrounds/Santa_List_Segmentation.gif"></div>
      <div class="bg-option" data-bg="assets/backgrounds/Snowbound_ABM.gif"></div>
      <div class="bg-option" data-bg="assets/backgrounds/Snowflow_Automation.gif"></div>
      <div class="bg-option" data-bg="assets/backgrounds/Twinkle_Star_Suite.gif"></div>
      <div class="bg-option" data-bg="assets/backgrounds/Winterlight_Strategy_Framework.gif"></div>
    </div>
    
    <!-- HERO DATA SOURCE (hidden; all hero products) -->
    <div id="hero-data" style="display:none;">
      <!-- AGRICULTURE MACHINES -->
      <div class="hero-option" data-hero="assets/hero/AGRICULTURE MACHINES/tractor.gif"></div>
      <div class="hero-option" data-hero="assets/hero/AGRICULTURE MACHINES/tractor2.gif"></div>
      
      <!-- DEFENCE SHIELDS -->
      <div class="hero-option" data-hero="assets/hero/DEFENCE SHIELDS/shield.gif"></div>
      <div class="hero-option" data-hero="assets/hero/DEFENCE SHIELDS/sword.gif"></div>
      
      <!-- DRINKS -->
      <div class="hero-option" data-hero="assets/hero/DRINKS/bottle.gif"></div>
      <div class="hero-option" data-hero="assets/hero/DRINKS/coffee.gif"></div>
      <div class="hero-option" data-hero="assets/hero/DRINKS/soda.gif"></div>
      
      <!-- FACTORY - CHEMISTRY -->
      <div class="hero-option" data-hero="assets/hero/FACTORY - CHEMISTRY/flask.gif"></div>
      
      <!-- MOTOR INDUSTRY -->
      <div class="hero-option" data-hero="assets/hero/MOTOR INDUSTRY/bike.gif"></div>
      <div class="hero-option" data-hero="assets/hero/MOTOR INDUSTRY/car.gif"></div>
      <div class="hero-option" data-hero="assets/hero/MOTOR INDUSTRY/pickup.gif"></div>
      <div class="hero-option" data-hero="assets/hero/MOTOR INDUSTRY/racing_car.gif"></div>
      
      <!-- OTHER -->
      <div class="hero-option" data-hero="assets/hero/OTHER/burger.gif"></div>
      <div class="hero-option" data-hero="assets/hero/OTHER/dino.gif"></div>
      <div class="hero-option" data-hero="assets/hero/OTHER/duck.gif"></div>
      <div class="hero-option" data-hero="assets/hero/OTHER/phone.gif"></div>
    </div>

    <!-- STICKER DATA (hidden, read by JS) -->
    <div id="sticker-data" style="display:none;">
      <!-- XMAS (25 stickers) -->
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/candles.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/christmas bells.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/Christmas Gift.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/Christmas Log Cabin.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/Christmas Present.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/Christmas Snowman.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/christmas star.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/Christmas Tree Icon.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/Christmas Tree.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/christmas wreath 2.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/Christmas Wreath.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/cool santa with sunglasses.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/gold christmas bells.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/golden christmas gift.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/pair of ice skates.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/rudolph the reindeer.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/santa and his sleigh.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/Santa's Hat.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/Santa.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/snow covered cottage.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/snow sled.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/snowman.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/the grinch.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/XMAS/white snowflake.png"></div>
      
      <!-- OTHER (3 stickers) -->
      <div class="sticker-option" data-sticker="assets/stickers/OTHER/Dinosaur.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/OTHER/modern laptop computer.png"></div>
      <div class="sticker-option" data-sticker="assets/stickers/OTHER/Modern Sattelite.png"></div>
    </div>

  </div>
</div>

<!-- UI SOUNDS -->
<div class="hidden" id="ui-sounds">
  <audio id="sound_save" preload="auto"><source src="assets/UI/sound_save.wav"></source></audio>
  <audio id="sound_delete" preload="auto"><source src="assets/UI/sound_delete.wav"></source></audio>
  <audio id="sound_confirm" preload="auto"><source src="assets/UI/sound_confirm.wav"></source></audio>
  <audio id="sound_menu_click" preload="auto"><source src="assets/UI/sound_menu_click.wav"></source></audio>
  <audio id="sound_menu_hover" preload="auto"><source src="assets/UI/sound_menu_hover.wav"></source></audio>
  <audio id="sound_drag" preload="auto"><source src="assets/UI/sound_drag.wav"></source></audio>
  <audio id="sound_drop" preload="auto"><source src="assets/UI/sound_drop.wav"></source></audio>
  <audio id="sound_click" preload="auto"><source src="assets/UI/sound_click.wav"></source></audio>
  <audio id="sound_click_denied" preload="auto"><source src="assets/UI/sound_click_denied.wav"></source></audio>
  <audio id="sound_close" preload="auto"><source src="assets/UI/sound_close.wav"></source></audio>
  <audio id="sound_popup" preload="auto"><source src="assets/UI/sound_popup.wav"></source></audio>
</div>

<script src="app.js"></script>
</body>
</html>